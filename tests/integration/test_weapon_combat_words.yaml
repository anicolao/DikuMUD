# Integration test for weapon combat word verification
test:
  id: test_weapon_combat_words
  description: Verify that weapons use appropriate combat verbs (e.g., rifles should "shoot" not "slash")
  author: Integration Test Framework
  created: '2025-10-14'
  tags: ['combat', 'weapons', 'command_validation']

setup:
  character:
    name: CombatTester
    password: test
    class: warrior
    level: 34
  start_room: 3011  # Weapon Smith in Greater Helium
  gold: 10000

steps:
  - action: command
    command: list
    description: Verify weapons are available for purchase
    expected:
      - pattern: 'radium rifle'
        message: "Radium rifle should be available"
      - pattern: 'radium pistol'
        message: "Radium pistol should be available"

  - action: command
    command: buy rifle
    description: Buy the radium rifle
    expected:
      - pattern: 'buy|bought|You now have'
        message: "Should successfully buy rifle"
        optional: true

  - action: command
    command: wield rifle
    description: Wield the rifle
    expected:
      - pattern: 'wield|You wield'
        message: "Should successfully wield rifle"
        optional: true

  - action: command
    command: goto 3012
    description: Go to a room with a mob to test combat
    expected:
      - pattern: '.'
        message: "Should successfully move"

  - action: command
    command: look
    description: Check what's in the room
    expected:
      - pattern: '.'
        message: "Should see room description"

  # Note: Actual combat testing would require a target mob and checking messages
  # For now, this test verifies the rifle can be purchased and equipped

result:
  should_pass: true
  description: "Test passes when rifle can be purchased and wielded"
