# Test for room description markers
# Verifies that room descriptions are wrapped with ---< and >-- markers

test:
  id: room_description_markers
  description: "Verify room descriptions have proper markers for client parsing"
  author: Integration Test Framework
  created: 2025-10-11
  tags: [room_display, markers, client_support]

setup:
  character:
    name: TestChar
    password: test
    class: warrior
    level: 1
  start_room: 3001

steps:
  - action: look
    description: "Look at room to verify markers appear"
    expected:
      - pattern: "---<"
        message: "Should have opening marker ---< before room description"
      - pattern: ">--"
        message: "Should have closing marker >-- after room description"
      - pattern: "The Temple of the Jeddak"
        message: "Should show room name"

  - action: command
    command: north
    description: "Move to another room and verify markers still appear"
    expected:
      - pattern: "---<"
        message: "Should have opening marker after movement"
      - pattern: ">--"
        message: "Should have closing marker after movement"

  - action: look
    description: "Explicit look command should also show markers"
    expected:
      - pattern: "---<"
        message: "Explicit look should show opening marker"
      - pattern: ">--"
        message: "Explicit look should show closing marker"

result:
  should_pass: true
  description: "Room description markers test passes if markers appear correctly"
