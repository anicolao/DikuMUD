# Test for game time independence from main loop speed
# This test validates that the tick timer in the prompt counts down
# based on real time, not pulse count

test:
  id: test_game_time_independence
  description: "Verify that game time (tick timing) is independent of main loop speed"
  author: Integration Test Framework
  created: 2025-10-11
  tags: [timing, tick, game_time]

setup:
  character:
    name: TimeTest
    password: test
    class: warrior
    level: 1
  start_room: 0  # Limbo
  gold: 0

steps:
  # Just verify the tick timer appears in the prompt
  - action: look
    description: "Look around to see tick timer in prompt"
    expected:
      - pattern: "T:\\d+"
        message: "Tick timer should appear in prompt (T:XX format)"

  # Verify the timer shows a reasonable value (0-75 seconds)
  - action: command
    command: "time"
    description: "Check game time command works"
    expected:
      - pattern: "It is"
        message: "Time command should work"

result:
  should_pass: true
  description: "Test passes when tick timer is visible in prompt"
  notes: |
    This is a basic sanity check that the tick timer feature works.
    More comprehensive timing tests are done via manual testing and
    the test_game_time_independence.sh script.
